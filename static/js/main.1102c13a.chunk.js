(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(t,e,n){t.exports=n(272)},136:function(t,e,n){},272:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),o=n(35),i=n.n(o),c=(n(136),n(54)),u=n(55),l=n(128),s=n(113),d=n(129),m=n(276),f=n(278),v=n(274),h=n(277),p=n(270),b=n(271),y=n(273),x=n(20),g=n(21);function w(){var t=Object(x.a)(["\n\tbackground-color: #FFF;\n\tborder-radius: 2px;\n\tpadding: 15px;\n"]);return w=function(){return t},t}function E(){var t=Object(x.a)(["\n\tcolor: #5afac3;\n\twidth: 100%;\n\tpadding: 25px 15px;\n\ttext-align: center;\n\tfont-size: 30px;\n"]);return E=function(){return t},t}function k(){var t=Object(x.a)(["\n\tdisplay: flex;\n\twidth: 100%;\n\tpadding: 0 5px;\n\tmargin-bottom: 10px;\n\tflex-direction: ",";\n\tbox-sizing: border-box;\n"]);return k=function(){return t},t}function j(){var t=Object(x.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\n\t@media (max-width: 700px) {\n    flex-direction: column;\n  }\n"]);return j=function(){return t},t}function O(){var t=Object(x.a)(["\n\twidth: 100%;\n\theight: 50px;\n\tborder: 1px solid #5afac3;\n\tbackground: transparent;\n\tpadding: 0 15px;\n\tborder-radius: 3px;\n\tcolor: #FFF;\n\tbox-sizing: border-box;\n\t\n\t&:focus {\n\t\toutline: none;\n\t}\n"]);return O=function(){return t},t}function D(){var t=Object(x.a)(["\n\twidth: 100%;\n\theight: 50px;\n\tborder: 1px solid #5afac3;\n\tbackground: transparent;\n\tpadding: 0 15px;\n\tborder-radius: 3px;\n\tcolor: #FFF;\n\t\n\t&:focus {\n\t\toutline: none;\n\t}\n"]);return D=function(){return t},t}function F(){var t=Object(x.a)(["\n\tcolor: #FFF;\n\tmargin-bottom: 10px;\n\t"]);return F=function(){return t},t}function S(){var t=Object(x.a)(["\n\tdisplay: block;\n\twidth: ",";\n\tmax-width: 100%;\n\tmargin: 0 auto;\n\tbox-sizing: border-box;\n\n\t@media (max-width: 700px) {\n    padding: 0 15px;\n  }\n"]);return S=function(){return t},t}function C(){var t=Object(x.a)(["\n\tdisplay: inline-block;\n\tcolor: palevioletred;\n\tfont-size: 1em;\n\tmargin: 1em;\n\tpadding: 0.25em 1em;\n\tborder: 2px solid palevioletred;\n\tborder-radius: 3px;\n"]);return C=function(){return t},t}g.a.button(C());var Y=g.a.div(S(),function(t){return t.width?t.width:"100%"}),M=g.a.label(F()),z=g.a.select(D()),B=g.a.input(O()),K=g.a.div(j()),N=g.a.div(k(),function(t){return t.direction?t.direction:"row"}),J=g.a.div(E()),P=g.a.div(w()),R=n(62),W=n.n(R),q=function(){function t(){Object(c.a)(this,t),this.url="https://free.currencyconverterapi.com/api/v6"}return Object(u.a)(t,[{key:"parserConversionData",value:function(t){return new Promise(function(e){t.then(function(t){var n=Object.keys(t[Object.keys(t)[0]]).map(function(e){return{name:W()(e).format("DD/MM"),value:t[Object.keys(t)[0]][e]}}),a=n[n.length-1];e({historic:n,actual:a})})})}},{key:"parserCurrenciesData",value:function(t){return console.log(t),new Promise(function(e){return t.then(function(t){var n=Object.keys(t.results).map(function(e){return t.results[e]});n.sort(function(t,e){return t.id>e.id?1:e.id>t.id?-1:0}),e(n)})})}},{key:"convert",value:function(t,e){var n=this,a=W()().subtract(8,"days").format("YYYY-MM-DD"),r=W()().format("YYYY-MM-DD");return fetch("".concat(this.url,"/convert?q=").concat(t,"_").concat(e,"&compact=ultra&date=").concat(a,"&endDate=").concat(r)).then(function(t){return n.parserConversionData(t.json())})}},{key:"currencies",value:function(){var t=this;return fetch("".concat(this.url,"/currencies")).then(function(e){return t.parserCurrenciesData(e.json())})}}]),t}(),I=function(t){return r.a.createElement(P,null,r.a.createElement("div",{style:{color:"#272a2d"}},t.payload.length?Number(t.payload[0].value).toFixed(2):0))},L=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(l.a)(this,Object(s.a)(e).call(this))).currService=new q,t.state={data:null,to:"BRL",from:"USD",value:1,symbol:"",currencies:[]},t}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.currService.currencies().then(function(e){t.convert(t.state.to,t.state.from),t.setState({currencies:e})})}},{key:"convert",value:function(t,e){var n=this;this.currService.convert(e,t).then(function(t){n.setState({data:t,symbol:n.getCurrencie(n.state.to)})})}},{key:"buildChart",value:function(){if(this.state.data)return r.a.createElement(m.a,{width:"100%",height:400},r.a.createElement(f.a,{data:this.state.data.historic,margin:{top:0,right:50,bottom:5,left:0}},r.a.createElement(v.a,{type:"monotone",dataKey:"value",stroke:"#5afac3"}),r.a.createElement(h.a,{stroke:"#272a2d",strokeDasharray:"1 1"}),r.a.createElement(p.a,{dataKey:"name"}),r.a.createElement(b.a,{dataKey:"value",domain:[0,"auto"],allowDataOverflow:!0}),r.a.createElement(y.a,{labelStyle:{color:"#06090d"},itemStyle:{color:"red"},contentStyle:{borderRadius:"2px"},content:r.a.createElement(I,null)})))}},{key:"getCurrencie",value:function(t){var e=this.state.currencies.filter(function(e){return e.id===t})[0];return Object.keys(e).includes("currencySymbol")?e.currencySymbol:""}},{key:"render",value:function(){var t=this;return r.a.createElement("main",{className:"content"},r.a.createElement(Y,{width:"900px"},r.a.createElement(K,null,r.a.createElement(N,{direction:"column"},r.a.createElement(M,null,"From:"),r.a.createElement(z,{onChange:function(e){return t.setState({to:e.target.value},function(){return t.convert(t.state.to,t.state.from)})},value:this.state.to},this.state.currencies.map(function(t){return r.a.createElement("option",{value:t.id,key:t.id},t.id)}))),r.a.createElement(N,{direction:"column"},r.a.createElement(M,null,"To:"),r.a.createElement(z,{onChange:function(e){return t.setState({from:e.target.value},function(){return t.convert(t.state.to,t.state.from)})},value:this.state.from},this.state.currencies.map(function(t){return r.a.createElement("option",{value:t.id,key:t.id},t.id)}))),r.a.createElement(N,{direction:"column"},r.a.createElement(M,null,"Value:"),r.a.createElement(B,{min:1,type:"tel",value:this.state.value,onChange:function(e){return t.setState({value:e.target.value})}}))),r.a.createElement(K,null,r.a.createElement(N,null,r.a.createElement(J,null,this.state.data?" ".concat(this.state.symbol," ").concat(Number(this.state.data.actual.value*this.state.value).toFixed(2)):"0.00"))),this.buildChart()))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[131,2,1]]]);
//# sourceMappingURL=main.1102c13a.chunk.js.map